{"ast":null,"code":"import _toConsumableArray from\"/Users/mingtian/chain/nitaswap-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _taggedTemplateLiteral from\"/Users/mingtian/chain/nitaswap-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n  height: 20px;\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: flex-end;\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  padding: 4px 20px;\\n  height: 56px;\\n  display: grid;\\n  grid-gap: 16px;\\n  align-items: center;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n  color: \",\";\\n  font-size: 14px;\\n  border-radius: 4px;\\n  padding: 0.25rem 0.3rem 0.25rem 0.3rem;\\n  max-width: 6rem;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  justify-self: flex-end;\\n  margin-right: 4px;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  white-space: nowrap;\\n  overflow: hidden;\\n  max-width: 5rem;\\n  text-overflow: ellipsis;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import{Currency,currencyEquals,ETHER,Token}from'@uniswap/sdk';import React,{useCallback,useMemo}from'react';import{FixedSizeList}from'react-window';import{Text}from'rebass';import styled from'styled-components';import{useActiveWeb3React}from'../../hooks';import{WrappedTokenInfo,useCombinedActiveList}from'../../state/lists/hooks';import{useCurrencyBalance}from'../../state/wallet/hooks';import{TYPE}from'../../theme';import{useIsUserAddedToken,useAllInactiveTokens}from'../../hooks/Tokens';import Column from'../Column';import{RowFixed,RowBetween}from'../Row';import CurrencyLogo from'../CurrencyLogo';import{MouseoverTooltip}from'../Tooltip';import{MenuItem}from'./styleds';import Loader from'../Loader';import{isTokenOnList}from'../../utils';import ImportRow from'./ImportRow';import{wrappedCurrency}from'utils/wrappedCurrency';import{LightGreyCard}from'components/Card';import TokenListLogo from\"../../assets/svg/tokenlist.svg\";import QuestionHelper from'components/QuestionHelper';import useTheme from'hooks/useTheme';function currencyKey(currency){return currency instanceof Token?currency.address:currency===ETHER?'ETHER':'';}var StyledBalanceText=styled(Text)(_templateObject());var Tag=styled.div(_templateObject2(),function(_ref){var theme=_ref.theme;return theme.bg3;},function(_ref2){var theme=_ref2.theme;return theme.text2;});var FixedContentRow=styled.div(_templateObject3());function Balance(_ref3){var balance=_ref3.balance;return/*#__PURE__*/React.createElement(StyledBalanceText,{title:balance.toExact()},balance.toSignificant(4));}var TagContainer=styled.div(_templateObject4());var TokenListLogoWrapper=styled.img(_templateObject5());function TokenTags(_ref4){var currency=_ref4.currency;if(!(currency instanceof WrappedTokenInfo)){return/*#__PURE__*/React.createElement(\"span\",null);}var tags=currency.tags;if(!tags||tags.length===0)return/*#__PURE__*/React.createElement(\"span\",null);var tag=tags[0];return/*#__PURE__*/React.createElement(TagContainer,null,/*#__PURE__*/React.createElement(MouseoverTooltip,{text:tag.description},/*#__PURE__*/React.createElement(Tag,{key:tag.id},tag.name)),tags.length>1?/*#__PURE__*/React.createElement(MouseoverTooltip,{text:tags.slice(1).map(function(_ref5){var name=_ref5.name,description=_ref5.description;return\"\".concat(name,\": \").concat(description);}).join('; \\n')},/*#__PURE__*/React.createElement(Tag,null,\"...\")):null);}function CurrencyRow(_ref6){var currency=_ref6.currency,onSelect=_ref6.onSelect,isSelected=_ref6.isSelected,otherSelected=_ref6.otherSelected,style=_ref6.style;var _useActiveWeb3React=useActiveWeb3React(),account=_useActiveWeb3React.account;var key=currencyKey(currency);var selectedTokenList=useCombinedActiveList();var isOnSelectedList=isTokenOnList(selectedTokenList,currency);var customAdded=useIsUserAddedToken(currency);var balance=useCurrencyBalance(account!==null&&account!==void 0?account:undefined,currency);// only show add or remove buttons if not on selected list\nreturn/*#__PURE__*/React.createElement(MenuItem,{style:style,className:\"token-item-\".concat(key),onClick:function onClick(){return isSelected?null:onSelect();},disabled:isSelected,selected:otherSelected},/*#__PURE__*/React.createElement(CurrencyLogo,{currency:currency,size:'24px'}),/*#__PURE__*/React.createElement(Column,null,/*#__PURE__*/React.createElement(Text,{title:currency.name,fontWeight:500},currency.symbol),/*#__PURE__*/React.createElement(TYPE.darkGray,{ml:\"0px\",fontSize:'12px',fontWeight:300},currency.name,\" \",!isOnSelectedList&&customAdded&&'• Added by user')),/*#__PURE__*/React.createElement(TokenTags,{currency:currency}),/*#__PURE__*/React.createElement(RowFixed,{style:{justifySelf:'flex-end'}},balance?/*#__PURE__*/React.createElement(Balance,{balance:balance}):account?/*#__PURE__*/React.createElement(Loader,null):null));}export default function CurrencyList(_ref7){var height=_ref7.height,currencies=_ref7.currencies,selectedCurrency=_ref7.selectedCurrency,onCurrencySelect=_ref7.onCurrencySelect,otherCurrency=_ref7.otherCurrency,fixedListRef=_ref7.fixedListRef,showETH=_ref7.showETH,showImportView=_ref7.showImportView,setImportToken=_ref7.setImportToken,breakIndex=_ref7.breakIndex;var itemData=useMemo(function(){var formatted=showETH?[Currency.ETHER].concat(_toConsumableArray(currencies)):currencies;if(breakIndex!==undefined){formatted=[].concat(_toConsumableArray(formatted.slice(0,breakIndex)),[undefined],_toConsumableArray(formatted.slice(breakIndex,formatted.length)));}return formatted;},[breakIndex,currencies,showETH]);var _useActiveWeb3React2=useActiveWeb3React(),chainId=_useActiveWeb3React2.chainId;var theme=useTheme();var inactiveTokens=useAllInactiveTokens();var Row=useCallback(function(_ref8){var data=_ref8.data,index=_ref8.index,style=_ref8.style;var currency=data[index];var isSelected=Boolean(selectedCurrency&&currencyEquals(selectedCurrency,currency));var otherSelected=Boolean(otherCurrency&&currencyEquals(otherCurrency,currency));var handleSelect=function handleSelect(){return onCurrencySelect(currency);};var token=wrappedCurrency(currency,chainId);var showImport=inactiveTokens&&token&&Object.keys(inactiveTokens).includes(token.address);if(index===breakIndex||!data){return/*#__PURE__*/React.createElement(FixedContentRow,{style:style},/*#__PURE__*/React.createElement(LightGreyCard,{padding:\"8px 12px\",borderRadius:\"8px\"},/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(TokenListLogoWrapper,{src:TokenListLogo}),/*#__PURE__*/React.createElement(TYPE.main,{ml:\"6px\",fontSize:\"12px\",color:theme.text1},\"Expanded results from inactive Token Lists\")),/*#__PURE__*/React.createElement(QuestionHelper,{text:\"Tokens from inactive lists. Import specific tokens below or click 'Manage' to activate more lists.\"}))));}if(showImport&&token){return/*#__PURE__*/React.createElement(ImportRow,{style:style,token:token,showImportView:showImportView,setImportToken:setImportToken,dim:true});}else{return/*#__PURE__*/React.createElement(CurrencyRow,{style:style,currency:currency,isSelected:isSelected,onSelect:handleSelect,otherSelected:otherSelected});}},[chainId,inactiveTokens,onCurrencySelect,otherCurrency,selectedCurrency,setImportToken,showImportView,breakIndex,theme.text1]);var itemKey=useCallback(function(index,data){return currencyKey(data[index]);},[]);return/*#__PURE__*/React.createElement(FixedSizeList,{height:height,ref:fixedListRef,width:\"100%\",itemData:itemData,itemCount:itemData.length,itemSize:56,itemKey:itemKey},Row);}","map":{"version":3,"sources":["/Users/mingtian/chain/nitaswap-interface/src/components/SearchModal/CurrencyList.tsx"],"names":["Currency","currencyEquals","ETHER","Token","React","useCallback","useMemo","FixedSizeList","Text","styled","useActiveWeb3React","WrappedTokenInfo","useCombinedActiveList","useCurrencyBalance","TYPE","useIsUserAddedToken","useAllInactiveTokens","Column","RowFixed","RowBetween","CurrencyLogo","MouseoverTooltip","MenuItem","Loader","isTokenOnList","ImportRow","wrappedCurrency","LightGreyCard","QuestionHelper","useTheme","currencyKey","currency","address","StyledBalanceText","Tag","div","theme","bg3","text2","FixedContentRow","Balance","balance","toExact","toSignificant","TagContainer","TokenListLogoWrapper","img","TokenTags","tags","length","tag","description","id","name","slice","map","join","CurrencyRow","onSelect","isSelected","otherSelected","style","account","key","selectedTokenList","isOnSelectedList","customAdded","undefined","symbol","justifySelf","CurrencyList","height","currencies","selectedCurrency","onCurrencySelect","otherCurrency","fixedListRef","showETH","showImportView","setImportToken","breakIndex","itemData","formatted","chainId","inactiveTokens","Row","data","index","Boolean","handleSelect","token","showImport","Object","keys","includes","TokenListLogo","text1","itemKey"],"mappings":"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","sourcesContent":["import { Currency, CurrencyAmount, currencyEquals, ETHER, Token } from '@uniswap/sdk'\nimport React, { CSSProperties, MutableRefObject, useCallback, useMemo } from 'react'\nimport { FixedSizeList } from 'react-window'\nimport { Text } from 'rebass'\nimport styled from 'styled-components'\nimport { useActiveWeb3React } from '../../hooks'\nimport { WrappedTokenInfo, useCombinedActiveList } from '../../state/lists/hooks'\nimport { useCurrencyBalance } from '../../state/wallet/hooks'\nimport { TYPE } from '../../theme'\nimport { useIsUserAddedToken, useAllInactiveTokens } from '../../hooks/Tokens'\nimport Column from '../Column'\nimport { RowFixed, RowBetween } from '../Row'\nimport CurrencyLogo from '../CurrencyLogo'\nimport { MouseoverTooltip } from '../Tooltip'\nimport { MenuItem } from './styleds'\nimport Loader from '../Loader'\nimport { isTokenOnList } from '../../utils'\nimport ImportRow from './ImportRow'\nimport { wrappedCurrency } from 'utils/wrappedCurrency'\nimport { LightGreyCard } from 'components/Card'\nimport TokenListLogo from '../../assets/svg/tokenlist.svg'\nimport QuestionHelper from 'components/QuestionHelper'\nimport useTheme from 'hooks/useTheme'\n\nfunction currencyKey(currency: Currency): string {\n  return currency instanceof Token ? currency.address : currency === ETHER ? 'ETHER' : ''\n}\n\nconst StyledBalanceText = styled(Text)`\n  white-space: nowrap;\n  overflow: hidden;\n  max-width: 5rem;\n  text-overflow: ellipsis;\n`\n\nconst Tag = styled.div`\n  background-color: ${({ theme }) => theme.bg3};\n  color: ${({ theme }) => theme.text2};\n  font-size: 14px;\n  border-radius: 4px;\n  padding: 0.25rem 0.3rem 0.25rem 0.3rem;\n  max-width: 6rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  justify-self: flex-end;\n  margin-right: 4px;\n`\n\nconst FixedContentRow = styled.div`\n  padding: 4px 20px;\n  height: 56px;\n  display: grid;\n  grid-gap: 16px;\n  align-items: center;\n`\n\nfunction Balance({ balance }: { balance: CurrencyAmount }) {\n  return <StyledBalanceText title={balance.toExact()}>{balance.toSignificant(4)}</StyledBalanceText>\n}\n\nconst TagContainer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n`\n\nconst TokenListLogoWrapper = styled.img`\n  height: 20px;\n`\n\nfunction TokenTags({ currency }: { currency: Currency }) {\n  if (!(currency instanceof WrappedTokenInfo)) {\n    return <span />\n  }\n\n  const tags = currency.tags\n  if (!tags || tags.length === 0) return <span />\n\n  const tag = tags[0]\n\n  return (\n    <TagContainer>\n      <MouseoverTooltip text={tag.description}>\n        <Tag key={tag.id}>{tag.name}</Tag>\n      </MouseoverTooltip>\n      {tags.length > 1 ? (\n        <MouseoverTooltip\n          text={tags\n            .slice(1)\n            .map(({ name, description }) => `${name}: ${description}`)\n            .join('; \\n')}\n        >\n          <Tag>...</Tag>\n        </MouseoverTooltip>\n      ) : null}\n    </TagContainer>\n  )\n}\n\nfunction CurrencyRow({\n  currency,\n  onSelect,\n  isSelected,\n  otherSelected,\n  style\n}: {\n  currency: Currency\n  onSelect: () => void\n  isSelected: boolean\n  otherSelected: boolean\n  style: CSSProperties\n}) {\n  const { account } = useActiveWeb3React()\n  const key = currencyKey(currency)\n  const selectedTokenList = useCombinedActiveList()\n  const isOnSelectedList = isTokenOnList(selectedTokenList, currency)\n  const customAdded = useIsUserAddedToken(currency)\n  const balance = useCurrencyBalance(account ?? undefined, currency)\n\n  // only show add or remove buttons if not on selected list\n  return (\n    <MenuItem\n      style={style}\n      className={`token-item-${key}`}\n      onClick={() => (isSelected ? null : onSelect())}\n      disabled={isSelected}\n      selected={otherSelected}\n    >\n      <CurrencyLogo currency={currency} size={'24px'} />\n      <Column>\n        <Text title={currency.name} fontWeight={500}>\n          {currency.symbol}\n        </Text>\n        <TYPE.darkGray ml=\"0px\" fontSize={'12px'} fontWeight={300}>\n          {currency.name} {!isOnSelectedList && customAdded && '• Added by user'}\n        </TYPE.darkGray>\n      </Column>\n      <TokenTags currency={currency} />\n      <RowFixed style={{ justifySelf: 'flex-end' }}>\n        {balance ? <Balance balance={balance} /> : account ? <Loader /> : null}\n      </RowFixed>\n    </MenuItem>\n  )\n}\n\nexport default function CurrencyList({\n  height,\n  currencies,\n  selectedCurrency,\n  onCurrencySelect,\n  otherCurrency,\n  fixedListRef,\n  showETH,\n  showImportView,\n  setImportToken,\n  breakIndex\n}: {\n  height: number\n  currencies: Currency[]\n  selectedCurrency?: Currency | null\n  onCurrencySelect: (currency: Currency) => void\n  otherCurrency?: Currency | null\n  fixedListRef?: MutableRefObject<FixedSizeList | undefined>\n  showETH: boolean\n  showImportView: () => void\n  setImportToken: (token: Token) => void\n  breakIndex: number | undefined\n}) {\n  const itemData: (Currency | undefined)[] = useMemo(() => {\n    let formatted: (Currency | undefined)[] = showETH ? [Currency.ETHER, ...currencies] : currencies\n    if (breakIndex !== undefined) {\n      formatted = [...formatted.slice(0, breakIndex), undefined, ...formatted.slice(breakIndex, formatted.length)]\n    }\n    return formatted\n  }, [breakIndex, currencies, showETH])\n\n  const { chainId } = useActiveWeb3React()\n  const theme = useTheme()\n\n  const inactiveTokens: {\n    [address: string]: Token\n  } = useAllInactiveTokens()\n\n  const Row = useCallback(\n    ({ data, index, style }) => {\n      const currency: Currency = data[index]\n      const isSelected = Boolean(selectedCurrency && currencyEquals(selectedCurrency, currency))\n      const otherSelected = Boolean(otherCurrency && currencyEquals(otherCurrency, currency))\n      const handleSelect = () => onCurrencySelect(currency)\n\n      const token = wrappedCurrency(currency, chainId)\n\n      const showImport = inactiveTokens && token && Object.keys(inactiveTokens).includes(token.address)\n\n      if (index === breakIndex || !data) {\n        return (\n          <FixedContentRow style={style}>\n            <LightGreyCard padding=\"8px 12px\" borderRadius=\"8px\">\n              <RowBetween>\n                <RowFixed>\n                  <TokenListLogoWrapper src={TokenListLogo} />\n                  <TYPE.main ml=\"6px\" fontSize=\"12px\" color={theme.text1}>\n                    Expanded results from inactive Token Lists\n                  </TYPE.main>\n                </RowFixed>\n                <QuestionHelper text=\"Tokens from inactive lists. Import specific tokens below or click 'Manage' to activate more lists.\" />\n              </RowBetween>\n            </LightGreyCard>\n          </FixedContentRow>\n        )\n      }\n\n      if (showImport && token) {\n        return (\n          <ImportRow\n            style={style}\n            token={token}\n            showImportView={showImportView}\n            setImportToken={setImportToken}\n            dim={true}\n          />\n        )\n      } else {\n        return (\n          <CurrencyRow\n            style={style}\n            currency={currency}\n            isSelected={isSelected}\n            onSelect={handleSelect}\n            otherSelected={otherSelected}\n          />\n        )\n      }\n    },\n    [\n      chainId,\n      inactiveTokens,\n      onCurrencySelect,\n      otherCurrency,\n      selectedCurrency,\n      setImportToken,\n      showImportView,\n      breakIndex,\n      theme.text1\n    ]\n  )\n\n  const itemKey = useCallback((index: number, data: any) => currencyKey(data[index]), [])\n\n  return (\n    <FixedSizeList\n      height={height}\n      ref={fixedListRef as any}\n      width=\"100%\"\n      itemData={itemData}\n      itemCount={itemData.length}\n      itemSize={56}\n      itemKey={itemKey}\n    >\n      {Row}\n    </FixedSizeList>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}